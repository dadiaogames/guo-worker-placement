(this.webpackJsonphamburger_placement_app=this.webpackJsonphamburger_placement_app||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(46),r=n.n(a),o=(n(56),n(49)),l=n(6),i=n(1),u=n(3),d=[s.a.createElement("span",{style:{color:"green"}},"\u25a0"),s.a.createElement("span",{style:{color:"#1e90ff"}},"\u25a0"),s.a.createElement("span",{style:{color:"#e3cf57"}},"\u25a0"),s.a.createElement("span",{style:{color:"red"}},"\u25a0")],m=s.a.createElement("img",{src:"https://s1.ax1x.com/2020/08/12/axkB28.png",style:{height:"1.25em",marginRight:"0.05em"}}),f=[{title:s.a.createElement("span",null,d[0],"\u8ff7hotel"),cost:0,food_type:0,illust:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1597244405843&di=661d6e6add618fbeb6a529c1dede9e86&imgtype=0&src=http%3A%2F%2Fxs3.op.xywy.com%2Fapi.iu1.xywy.com%2Fcms%2F20170420%2F25751936b78f17285f47411819a413f835689.png",effect:function(e,t){e.foods[0]+=1,e.money+=1;var n,c=Object(l.a)(e.skills);try{for(c.s();!(n=c.n()).done;){var s=n.value;s.onGet0&&s.onGet0(e,t)}}catch(a){c.e(a)}finally{c.f()}}},{title:s.a.createElement("span",null,d[1],"\u84dd\u8393"),cost:0,food_type:1,illust:"https://dss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1071612663,2479903029&fm=26&gp=0.jpg",effect:function(e,t){e.foods[1]+=1;var n,c=Object(l.a)(e.skills);try{for(c.s();!(n=c.n()).done;){var s=n.value;s.onGet1&&s.onGet1(e,t)}}catch(a){c.e(a)}finally{c.f()}}},{title:s.a.createElement("span",null,d[2],"\u65b0\u5c45"),cost:1,food_type:2,illust:"https://dss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1121089958,3018372729&fm=26&gp=0.jpg",effect:function(e,t){e.foods[2]+=1;var n,c=Object(l.a)(e.skills);try{for(c.s();!(n=c.n()).done;){var s=n.value;s.onGet2&&s.onGet2(e,t)}}catch(a){c.e(a)}finally{c.f()}}},{title:s.a.createElement("span",null,d[3],"\u7ea2\u5fc3\u706b\u9f99\u679c"),cost:0,food_cost:0,food_type:3,illust:"https://dss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3576916985,1409439418&fm=26&gp=0.jpg",effect:function(e,t){e.foods[3]+=1;var n,c=Object(l.a)(e.skills);try{for(c.s();!(n=c.n()).done;){var s=n.value;s.onGet3&&s.onGet3(e,t)}}catch(a){c.e(a)}finally{c.f()}}},{title:s.a.createElement("span",null,d[3],"\u7ea2\u5fc3\u706b\u9f99\u679c"),cost:0,food_cost:1,food_type:3,illust:"https://dss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3576916985,1409439418&fm=26&gp=0.jpg",effect:function(e,t){e.foods[3]+=1;var n,c=Object(l.a)(e.skills);try{for(c.s();!(n=c.n()).done;){var s=n.value;s.onGet3&&s.onGet3(e,t)}}catch(a){c.e(a)}finally{c.f()}}},{title:s.a.createElement("span",null,"\u83b7\u5f97$3"),cost:0,illust:"https://dss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3216805947,683070568&fm=26&gp=0.jpg",effect:function(e,t){e.money+=3}},{title:s.a.createElement("span",null,"\u62ff1\u5f20\u53d1\u5c55\u5361(\u53cc\u51fb\u62ff\u53d6)"),cost:0,illust:"https://s1.ax1x.com/2020/08/13/axTt8P.png",effect:function(e,t){e.picks+=1}}],p=[{desc:s.a.createElement("span",null,"\u62ff\u53d6",d[0],"\u65f6\uff0c\u989d\u5916\u83b7\u5f971",d[0]),cost:1,onGet0:function(e,t){e.foods[0]+=1}},{desc:s.a.createElement("span",null,"\u62ff\u53d6",d[1],"\u65f6\uff0c\u989d\u5916\u83b7\u5f971",d[1]),cost:1,onGet1:function(e,t){e.foods[1]+=1}},{desc:s.a.createElement("span",null,"\u62ff\u53d6",d[2],"\u65f6\uff0c\u4ef7\u683c-2$"),cost:1,onTurnBegin:function(e,t){e.market[2].cost-=2}},{desc:s.a.createElement("span",null,"\u62ff\u53d6",d[3],"\u65f6\uff0c\u65e0\u9700\u652f\u4ed8\u98df\u6750"),cost:1,onTurnBegin:function(e,t){e.market[3].food_cost=-1,e.market[4].food_cost=-1}},{desc:s.a.createElement("span",null,"\u62ff\u53d6",d[0],"\u65f6\uff0c\u83b7\u5f97$2"),cost:1,onGet0:function(e,t){e.money+=2}},{desc:s.a.createElement("span",null,"\u62ff\u53d6",d[1],"\u65f6\uff0c\u83b7\u5f97$2"),cost:1,onGet1:function(e,t){e.money+=2}},{desc:s.a.createElement("span",null,"\u62ff\u53d6",d[2],"\u65f6\uff0c\u83b7\u5f97",m),cost:1,onGet2:function(e,t){e.workers+=1}},{desc:s.a.createElement("span",null,"\u62ff\u53d6",d[3],"\u65f6\uff0c\u53ef\u62ff\u53d61\u5f20\u53d1\u5c55\u5361"),cost:1,onGet3:function(e,t){e.picks+=1}},{desc:s.a.createElement("span",null,"\u884c\u52a8: $2\u2192",d[0],"+",d[0]),cost:1,action:function(e,t){_(e,t,2)&&(e.foods[0]+=2)}},{desc:s.a.createElement("span",null,"\u884c\u52a8: $1\u2192",d[1]),cost:1,action:function(e,t){_(e,t,1)&&(e.foods[1]+=1)}},{desc:s.a.createElement("span",null,"\u884c\u52a8: $2\u2192",d[2]),cost:1,action:function(e,t){_(e,t,2)&&(e.foods[2]+=1)}},{desc:s.a.createElement("span",null,"\u884c\u52a8: $3\u2192",d[3]),cost:1,action:function(e,t){_(e,t,3)&&(e.foods[3]+=1)}},{desc:s.a.createElement("span",null,"\u884c\u52a8: ",d[0],"\u2192$4"),cost:1,action:function(e,t){y(e,t,0)&&(e.money+=4)}},{desc:s.a.createElement("span",null,"\u884c\u52a8: ",d[1],"\u2192$5"),cost:1,action:function(e,t){y(e,t,1)&&(e.money+=5)}},{desc:s.a.createElement("span",null,"\u884c\u52a8: ",d[2],"\u2192$6"),cost:1,action:function(e,t){y(e,t,2)&&(e.money+=6)}},{desc:s.a.createElement("span",null,"\u884c\u52a8: ",d[3],"\u2192$7"),cost:1,action:function(e,t){y(e,t,3)&&(e.money+=7)}},{desc:s.a.createElement("span",null,"\u56de\u5408\u5f00\u59cb\u65f6\uff0c\u83b7\u5f971",d[0]),cost:2,onTurnBegin:function(e,t){e.foods[0]+=1}},{desc:s.a.createElement("span",null,"\u56de\u5408\u5f00\u59cb\u65f6\uff0c\u83b7\u5f971",d[1]),cost:4,onTurnBegin:function(e,t){e.foods[1]+=1}},{desc:s.a.createElement("span",null,"\u56de\u5408\u5f00\u59cb\u65f6\uff0c\u83b7\u5f971",d[2]),cost:6,onTurnBegin:function(e,t){e.foods[2]+=1}},{desc:s.a.createElement("span",null,"\u56de\u5408\u5f00\u59cb\u65f6\uff0c\u83b7\u5f971",d[3]),cost:8,onTurnBegin:function(e,t){e.foods[3]+=1}},{desc:s.a.createElement("span",null,"\u56de\u5408\u5f00\u59cb\u65f6\uff0c\u83b7\u5f97$2"),cost:4,onTurnBegin:function(e,t){e.money+=2}}];var k=[{requirements:[0],score:1},{requirements:[1,-1],score:2},{requirements:[2],score:2},{requirements:[3,-1],score:3},{requirements:[0,0],score:2},{requirements:[1,1],score:3},{requirements:[2,2],score:4},{requirements:[3,3],score:5},{requirements:[0,1],score:3},{requirements:[1,2],score:4},{requirements:[2,3],score:5},{requirements:[0,3],score:4},{requirements:[0,2],score:3},{requirements:[1,3],score:4},{requirements:[0],score:2,next:{requirements:[3],score:-3}},{requirements:[1],score:3,next:{requirements:[0],score:-1}},{requirements:[2],score:4,next:{requirements:[1],score:-1}},{requirements:[3],score:5,next:{requirements:[2],score:-2}},{requirements:[0,1,2,3],score:9},{requirements:[-2],score:1},{requirements:[-5],score:3}].map((function e(t){var n,c=[],a=Object(l.a)(t.requirements);try{for(a.s();!(n=a.n()).done;){var r=n.value;r>=0?c.push(d[r]):c.push("$".concat(-r)),c.push(" + ")}}catch(o){a.e(o)}finally{a.f()}return(c=c.slice(0,c.length-1)).push(" = ".concat(t.score,"\u5206")),t.next&&(c=[].concat(Object(u.a)(c),[s.a.createElement("br",null)],Object(u.a)(e(t.next).desc))),t.desc=c,t}));function h(e,t,n,c,s){var a=s||0,r=e[n].splice(a,1)[0];return e[c].push(r),r}function _(e,t,n){return e.money>=n&&(e.money-=n,!0)}function y(e,t,n){return e.foods[n]>0&&(e.foods[n]-=1,!0)}function v(e,t){var n,c=Object(u.a)(t),s=Object(l.a)(e.requirements);try{for(s.s();!(n=s.n()).done;){var a=n.value;a>=0?c[a]-=1:c[4]+=a}}catch(i){s.e(i)}finally{s.f()}var r,o=Object(l.a)(c);try{for(o.s();!(r=o.n()).done;){if(r.value<0)return 0}}catch(i){o.e(i)}finally{o.f()}return e.score+v(e,c)}function E(e){return s.a.createElement("span",null,"$",e.cost," \xa0",e.food_cost>=0?d[e.food_cost]:"")}var b={setup:function(e){var t={foods:[0,0,0,0],money:3,workers:3,day:0};return t.scorer_deck=e.random.Shuffle(k),t.skill_deck=e.random.Shuffle(p),t.scorer_deck=[].concat(Object(u.a)(t.scorer_deck),Object(u.a)(t.scorer_deck)).map((function(e){return Object(i.a)({},e)})),t.skill_deck=[].concat(Object(u.a)(t.skill_deck),Object(u.a)(t.skill_deck)).map((function(e){return Object(i.a)({},e)})),t.scorer_list=[],t.skill_list=[],t.scorers=[],t.skills=[],t.market=[],t.prices=e.random.Shuffle(function(){for(var e=[],t=0;t<4;t++)e.push([t,t+1,t+2,t+3].map((function(e){return e%4})));return[].concat(e,Object(u.a)(e.map((function(e){return e.reverse()}))))}()),t.picks=2,t},moves:{place:function(e,t,n){var c=e.market[n],s=c.cost+2*c.workers;if(function(e,t,n){return e.workers>0&&(e.workers-=1,n.workers+=1,!0)}(e,0,c)&&_(e,0,s)){if(c.food_cost>=0)if(!y(e,0,c.food_cost))return;c.effect(e,t)}},pick:function(e,t,n,c){if(e.picks>0){if(n.includes("scorer"))h(e,0,"scorer_list","scorers",c);else if(n.includes("skill")){var s=e.skill_list[c];_(e,0,s.cost)&&(h(e,0,"skill_list","skills",c),s.onTurnBegin&&s.onTurnBegin(e,t,s))}e.picks-=1}},use:function(e,t,n){var c=e.skills[n];c.exhausted||(c.action(e,t,c),c.exhausted=!0)},get_final_score:function(e,t){var n,c=0,s=[].concat(Object(u.a)(e.foods),[e.money]),a=Object(l.a)(e.scorers);try{for(a.s();!(n=a.n()).done;){var r=n.value;c+=v(r,s),r.next&&(c+=v(r.next,s))}}catch(o){a.e(o)}finally{a.f()}e.final_score=c,e.ranking="D",e.ranking=c>=0&&c<20?"C":c>=20&&c<35?"B":c>=35&&c<50?"A":c>=50&&c<70?"S":"SS",t.events.endGame()},shuffle_decks:function(e,t,n){for(var c=0;c<n;c++)e.scorer_deck=t.random.Shuffle(e.scorer_deck),e.skill_deck=t.random.Shuffle(e.skill_deck),e.prices=t.random.Shuffle(e.prices);e.day-=1,e.money-=2,t.events.endTurn()}},turn:{onBegin:function(e,t){e.day+=1,e.workers=3,e.money+=2,e.market=f.map((function(e){return Object(i.a)({},e)}));var n,c=Object(l.a)(e.market);try{for(c.s();!(n=c.n()).done;){var s=n.value;s.workers=0,void 0!=s.food_type&&(s.cost+=e.prices[e.day][s.food_type])}}catch(d){c.e(d)}finally{c.f()}e.scorer_list=[],e.skill_list=[];for(var a=0;a<4;a++)h(e,0,"scorer_deck","scorer_list",0),h(e,0,"skill_deck","skill_list",0);var r,o=Object(l.a)(e.skills);try{for(o.s();!(r=o.n()).done;){var u=r.value;u.exhausted=!1,u.onTurnBegin&&u.onTurnBegin(e,t,u)}}catch(d){o.e(d)}finally{o.f()}}}},g=n(8),x=n(5),j=n(7),O=n(12),G=n(10),w=n(9),q=n(47),S=n.n(q),$=(n(58),function(e){return s.a.createElement("div",{className:"avatar",onClick:e.handleClick},s.a.createElement("span",{className:"avatar-alt",style:{display:e.workers>0?"none":""}},"\u53ef\u653e\u7f6e"),s.a.createElement("img",{src:"https://s1.ax1x.com/2020/08/12/axkB28.png",className:"avatar-img",style:{display:e.workers>0?"":"none"}}),s.a.createElement("span",{className:"num-workers",style:{display:e.workers>=2?"":"none"}},e.workers))}),B=function(e){return s.a.createElement("div",{className:"workplace"},s.a.createElement($,{handleClick:e.handleClick,workers:e.workers}),s.a.createElement("div",{className:"desc",align:"center"},e.title,s.a.createElement("br",null),s.a.createElement("br",null),e.desc),s.a.createElement("div",{className:"illust-container"},s.a.createElement("img",{src:e.illust,className:"illust"})))},T=(n(59),function(e){var t="3px solid";return"scorer"==e.cardType?t="3px solid rgb(229,131,8)":"skill"==e.cardType&&(t="3px solid rgb(137,207,240)"),e.selected&&(t="4px solid green"),e.exhausted&&(t="2px solid red"),s.a.createElement("div",{className:"card",style:{border:t},onClick:e.handleClick,align:"center"},e.cost?"($".concat(e.cost,")"):"",s.a.createElement("br",null),e.desc)}),F=function(e){return s.a.createElement("div",{className:"vcard-row"},e.cards.map((function(e,t){return s.a.createElement(T,e)})))},N=(n(60),function(e){return s.a.createElement("div",{className:"central market"},e.market.map((function(e){return s.a.createElement(B,e)})))}),C=function(e){return s.a.createElement("div",{className:"central"},s.a.createElement(F,{cards:e.deck1}),s.a.createElement(F,{cards:e.deck2}))},H=(n(61),function(e){return s.a.createElement("div",{className:"panel",align:"center"},e.data)}),K=n(20),Q=(n(64),function(e){return s.a.createElement(K.c,{onSelect:e.onSelect,selectedIndex:e.selectedIndex,style:{margin:"2%",width:"75%",display:"inline-block"}},s.a.createElement(K.b,null,e.selections.map((function(e){return s.a.createElement(K.a,null,e)}))))}),W=(n(65),function(e){Object(G.a)(n,e);var t=Object(w.a)(n);function n(e){var c;return Object(x.a)(this,n),(c=t.call(this,e)).process_workplace_data=c.process_workplace_data.bind(Object(O.a)(c)),c.process_deck_data=c.process_deck_data.bind(Object(O.a)(c)),c.handle_card_click=c.handle_card_click.bind(Object(O.a)(c)),c.enter_next_day=c.enter_next_day.bind(Object(O.a)(c)),c.state={central:"market",scorer_list_selected:-1,skill_list_selected:-1,scorer_selected:-1,skill_selected:-1,game_count:0},c}return Object(j.a)(n,[{key:"process_workplace_data",value:function(e,t){var n=this;return Object(i.a)({desc:E(e),handleClick:function(){return n.props.moves.place(t)}},e)}},{key:"process_deck_data",value:function(e){var t=this;return this.props.G[e].map((function(n,c){return Object(i.a)({cardType:e.includes("scorer")?"scorer":"skill",selected:t.state[e+"_selected"]==c,handleClick:t.handle_card_click(e,c)},n)}))}},{key:"handle_card_click",value:function(e,t){var n=this;return function(){n.state[e+"_selected"]!=t?n.setState(Object(g.a)({},e+"_selected",t)):(e.includes("list")?n.props.moves.pick(e,t):n.props.moves.use(t),n.setState(Object(g.a)({},e+"_selected",-1)))}}},{key:"componentDidUpdate",value:function(){this.props.ctx.gameover&&(alert("\u6700\u7ec8\u5f97\u5206: ".concat(this.props.G.final_score,"\n\u8bc4\u7ea7: ").concat(this.props.G.ranking)),this.props.reset(),this.props.moves.shuffle_decks(this.state.game_count+1),this.setState({game_count:this.state.game_count+1}))}},{key:"enter_next_day",value:function(){this.props.G.day<7?this.props.events.endTurn():this.props.moves.get_final_score()}},{key:"render",value:function(){var e=this,t={market:s.a.createElement(N,{market:this.props.G.market.map(this.process_workplace_data)}),field:s.a.createElement(C,{deck1:this.process_deck_data("scorer_list"),deck2:this.process_deck_data("skill_list")}),home:s.a.createElement(C,{deck1:this.process_deck_data("scorers"),deck2:this.process_deck_data("skills")})},n="\u4e0b\u4e00\u5929";return this.props.G.day>=7&&(n="\u7b97\u5206"),s.a.createElement("div",{className:"board"},s.a.createElement(H,{data:s.a.createElement("span",{style:{lineHeight:"250%"}},"\u7b2c",this.props.G.day,"/7\u5929 \xa0\xa0\xa0",S.a.times(this.props.G.workers,(function(){return m})))}),t[this.state.central],s.a.createElement(Q,{selections:["\u5e02\u573a","\u62ff\u5361\u533a","\u6211\u7684\u5361"],onSelect:function(n){e.setState({central:Object.keys(t)[n]})},selectedIndex:Object.keys(t).indexOf(this.state.central)}),s.a.createElement("button",{className:"next-day-button",onClick:this.enter_next_day},n),s.a.createElement(H,{data:s.a.createElement("span",{style:{lineHeight:"225%"}},d[0],":",this.props.G.foods[0]," \xa0\xa0",d[1],":",this.props.G.foods[1]," \xa0\xa0",d[2],":",this.props.G.foods[2]," \xa0\xa0",d[3],":",this.props.G.foods[3]," \xa0\xa0 $:",this.props.G.money)}))}}]),n}(s.a.Component)),Y=Object(o.a)({game:b,board:W});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(Y,null),document.getElementById("root"))},51:function(e,t,n){e.exports=n(100)},56:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},96:function(e,t){}},[[51,1,2]]]);
//# sourceMappingURL=main.731543c3.chunk.js.map